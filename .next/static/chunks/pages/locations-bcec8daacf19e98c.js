(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{8744:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/locations",function(){return e(7668)}])},7668:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return w}});var r=e(4051),o=e.n(r),i=e(5893),c=e(9008),a=e(214),u=e.n(a),s=e(4711),l=e(1325),d=e(9402),f=e(7294),p=e(1664),h=e(3238),m=e(7375),y=e(8718),v=e(5113),x=e(9669),_=e.n(x);function g(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function b(n,t,e,r,o,i,c){try{var a=n[i](c),u=a.value}catch(s){return void e(s)}a.done?t(u):Promise.resolve(u).then(r,o)}function j(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function c(n){b(i,r,o,c,a,"next",n)}function a(n){b(i,r,o,c,a,"throw",n)}c(void 0)}))}}function S(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i=[],c=!0,a=!1;try{for(e=e.call(n);!(c=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);c=!0);}catch(u){a=!0,o=u}finally{try{c||null==e.return||e.return()}finally{if(a)throw o}}return i}}(n,t)||function(n,t){if(!n)return;if("string"===typeof n)return g(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return g(n,t)}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var w=(0,l.X)(s.M,{ssr:!1})((function(){var n=(0,h.pm)(),t=S((0,d.B_)(),2),e=(t[0],t[1]),r=S((0,d.Tg)(),2),a=(r[0],r[1]),s=S((0,d.qo)(),2),l=s[0],x=l.data,g=l.fetching,b=(s[1],(0,m.qY)()),w=b.isOpen,O=b.onOpen,A=b.onClose,I=(0,f.useState)(""),k=I[0],P=I[1];function C(){return(C=j(o().mark((function n(t,r){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e({input:{visible:r,yextId:t}}),x.locations.find((function(n){return n.yextId===t})).visible=r;case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function N(){return(N=j(o().mark((function n(t,e){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a({input:{comingSoon:e,yextId:t}}),x.locations.find((function(n){return n.yextId===t})).comingSoon=e;case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function L(){return(L=j(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,_().delete("http://localhost:4000/hooks/yext/".concat(k));case 2:e=t.sent,console.log("result",e),n({duration:null,position:"top-right",title:"".concat(e.data.message||"Success"),status:"FATAL_ERROR"==e.data.type?"error":"success",isClosable:!0});case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return!g&&x.locations&&x.locations.map((function(n){Object.keys(n).forEach((function(t){try{n[t]=JSON.parse(n[t])}catch(e){n[t]=n[t]}}))})),(0,i.jsxs)("div",{className:u().container,children:[(0,i.jsxs)(c.default,{children:[(0,i.jsx)("title",{children:"Create Next App"}),(0,i.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,i.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,i.jsxs)(y.u_,{isOpen:w,onClose:A,children:[(0,i.jsx)(y.ZA,{}),(0,i.jsxs)(y.hz,{children:[(0,i.jsx)(y.xB,{children:"Modal Title"}),(0,i.jsx)(y.ol,{}),(0,i.jsx)(y.fe,{children:"Are you sure you want to delete this location?"}),(0,i.jsxs)(y.mz,{children:[(0,i.jsx)(v.zx,{colorScheme:"red",mr:3,onClick:function(){return L.apply(this,arguments)},children:"Yes"}),(0,i.jsx)(v.zx,{variant:"ghost",onClick:A,children:"no"})]})]})]}),"      ",(0,i.jsxs)("main",{className:u().main,children:[(0,i.jsx)(v.zx,{children:(0,i.jsx)(p.default,{href:"/locations/add",children:"Add Location"})}),(0,i.jsxs)("table",{children:[(0,i.jsx)("thead",{children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Name"}),(0,i.jsx)("td",{children:"Address"}),(0,i.jsx)("td",{children:"Is Visible"}),(0,i.jsx)("td",{children:"Is coming soon"}),(0,i.jsx)("td",{children:"Delete"})]})}),(0,i.jsx)("tbody",{children:!g&&x&&x.locations?x.locations.map((function(n){return(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:(0,i.jsx)("a",{href:"/locations/".concat(n.c_locationSlug),children:n.c_locationName})}),(0,i.jsxs)("td",{children:[n.address.line1," ",n.address.city,", ",n.address.region]}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"checkbox",name:"visible",checked:n.visible,onChange:function(){return function(n,t){return C.apply(this,arguments)}(n.yextId,!n.visible)}})}),(0,i.jsx)("td",{children:(0,i.jsx)("input",{type:"checkbox",name:"comingSoon",checked:n.comingSoon,onChange:function(){return function(n,t){return N.apply(this,arguments)}(n.yextId,!n.comingSoon)}})}),(0,i.jsx)("td",{children:(0,i.jsx)(v.zx,{onClick:function(){return t=n.c_locationSlug,O(),void P(t);var t},children:"Delete"})})]},n.id)})):null})]})]}),(0,i.jsx)("footer",{className:u().footer})]})}))},9402:function(n,t,e){"use strict";e.d(t,{Ah:function(){return y},Tg:function(){return x},B_:function(){return g},yU:function(){return j},qo:function(){return w}});var r=e(1230),o=e(2432);function i(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function c(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){i(n,t,e[t])}))}return n}function a(n,t){return t||(t=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(t)}}))}function u(){var n=a(["\n    fragment LocationSnippet on Location {\n  id\n  c_oloID\n  address\n  description\n  hours\n  name\n  c_cateringURL\n  c_locationHighlights\n  c_locationShortName\n  c_locationSlug\n  c_locationName\n  c_mapTile\n  c_promoGraphic\n  c_masthead\n  c_mapUrl\n  visible\n  comingSoon\n  c_comingSoonText\n  c_promoUrl\n  c_shortDescription\n  geocodedCoordinate\n  mainPhone\n  orderUrl\n  yextId\n  hoursString\n}\n    "]);return u=function(){return n},n}function s(){var n=a(["\n    mutation AddLocation($options: LocationInput!) {\n  addLocation(options: $options)\n}\n    "]);return s=function(){return n},n}function l(){var n=a(["\n    mutation updateComingSoon($input: UpdateComingSoonInput!) {\n  updateComingSoon(input: $input) {\n    comingSoon\n  }\n}\n    "]);return l=function(){return n},n}function d(){var n=a(["\n    mutation UpdateVisibility($input: UpdateVisibleInput!) {\n  updateVisibility(input: $input) {\n    visible\n  }\n}\n    "]);return d=function(){return n},n}function f(){var n=a(["\n    query Location($yextId: String!) {\n  location(yextId: $yextId) {\n    ...LocationSnippet\n  }\n}\n    ",""]);return f=function(){return n},n}function p(){var n=a(["\n    query Locations {\n  locations {\n    ...LocationSnippet\n  }\n}\n    ",""]);return p=function(){return n},n}var h=(0,r.ZP)(u()),m=(0,r.ZP)(s());function y(){return o.Db(m)}var v=(0,r.ZP)(l());function x(){return o.Db(v)}var _=(0,r.ZP)(d());function g(){return o.Db(_)}var b=(0,r.ZP)(f(),h);function j(n){return o.aM(c({query:b},n))}var S=(0,r.ZP)(p(),h);function w(n){return o.aM(c({query:S},n))}},4711:function(n,t,e){"use strict";e.d(t,{M:function(){return d}});var r=e(2559),o=e(1163),i=e(3026),c=e(6997),a=e(3496);function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function s(n){return function(n){if(Array.isArray(n))return u(n)}(n)||function(n){if("undefined"!==typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||function(n,t){if(!n)return;if("string"===typeof n)return u(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return u(n,t)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(n){var t=n.forward;return function(n){return(0,a.zG)(t(n),(0,a.bw)((function(n){var t=n.error;t&&(null===t||void 0===t?void 0:t.message.includes("not authenticated"))&&o.default.replace("/login")})))}},d=function(n,t){return{url:"http://localhost:4000/graphql",fetchOptions:{credentials:"include",headers:void 0},exchanges:[c.B5,(0,r.HG)({keys:{PaginatedPosts:function(){return null}},resolvers:{Query:{posts:function(n,t,e,r){var o=r.parentKey,c=r.fieldName,a=e.inspectFields(o).filter((function(n){return n.fieldName===c}));if(0!==a.length){var u="".concat(c,"(").concat((0,i.h)(t),")"),l=e.resolve(e.resolve(o,u),"posts");r.partial=!l;var d=!0,f=[];return a.forEach((function(n){var t,r=e.resolveFieldByKey(o,n.fieldKey),i=e.resolve(r,"posts"),c=e.resolve(r,"hasMore");c||(d=c),(t=f).push.apply(t,s(i))})),{posts:f,hasMore:d,__typename:"PaginatedPosts"}}}}}}),l,n,c.Ek]}}},214:function(n){n.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",code:"Home_code__suPER",grid:"Home_grid__GxQ85",card:"Home_card___LpL1",logo:"Home_logo__27_tb"}}},function(n){n.O(0,[43,426,718,774,888,179],(function(){return t=8744,n(n.s=t);var t}));var t=n.O();_N_E=t}]);